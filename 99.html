<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã±ã±ã‚“å¼ã€€ä¹ä¹ã®èª­ã¿æ–¹ãƒã‚¹ã‚¿ãƒ¼</title>
    <style>
        body { 
            font-family: 'Helvetica Neue', Arial, sans-serif; 
            background-color: #f0f4f8; 
            display: flex; 
            flex-direction: column; /* ç¸¦ä¸¦ã³ */
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            padding: 20px 0; /* ä¸Šä¸‹ã«å°‘ã—ä½™ç™½ã‚’è¿½åŠ  */
        }
        
        .quiz-card { background: white; width: 90%; max-width: 500px; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; }
        h1 { color: #2c3e50; font-size: 1.4rem; margin-bottom: 20px; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .menu-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        .menu-btn { padding: 15px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: background 0.2s; }
        .menu-btn:hover { background: #2980b9; }
        .all-btn { grid-column: span 3; background: #2c3e50; }
        .stats { font-size: 0.9rem; color: #7f8c8d; margin-bottom: 10px; display: none; }
        .question { font-size: 3rem; font-weight: bold; margin: 20px 0; color: #e67e22; display: none; }
        .options { display: grid; gap: 10px; display: none; }
        .option { padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; background: white; font-size: 1.1rem; cursor: pointer; }
        .option.correct { background-color: #2ecc71; border-color: #27ae60; color: white; }
        .option.wrong { background-color: #e74c3c; border-color: #c0392b; color: white; }
        #feedback { margin-top: 20px; font-weight: bold; min-height: 1.5rem; }
        #next-btn { margin-top: 20px; padding: 12px 30px; background: #34495e; color: white; border: none; border-radius: 5px; cursor: pointer; display: none; margin-left: auto; margin-right: auto; }
        #back-btn { margin-top: 20px; background: none; border: none; color: #3498db; text-decoration: underline; cursor: pointer; display: none; margin-left: auto; margin-right: auto; }
    </style>
</head>
<body>

<div class="quiz-card">
    <h1 id="title">ç·´ç¿’ã™ã‚‹æ®µã‚’é¸ã‚“ã§ã­</h1>
    
    <div id="menu" class="menu-grid">
        <button class="menu-btn" onclick="startQuiz(1)">1ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(2)">2ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(3)">3ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(4)">4ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(5)">5ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(6)">6ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(7)">7ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(8)">8ã®æ®µ</button>
        <button class="menu-btn" onclick="startQuiz(9)">9ã®æ®µ</button>
        <button class="menu-btn all-btn" onclick="startQuiz(0)">ã™ã¹ã¦ã®æ®µï¼ˆãƒ©ãƒ³ãƒ€ãƒ 10å•ï¼‰</button>
    </div>

    <div id="stats" class="stats"></div>
    <div id="question" class="question"></div>
    <div id="options" class="options"></div>
    <div id="feedback"></div>
    <button id="next-btn" onclick="loadNextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
    <button id="back-btn" onclick="resetToMenu()">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</button>
</div>

<div style="text-align: center; margin-top: 30px;">
    <a href="index.html" style="
        display: inline-block;
        padding: 10px 25px;
        background-color: #ff9d00;
        color: white;
        text-decoration: none;
        border-radius: 25px;
        box-shadow: 0 4px #e68a00;
        font-weight: bold;
        transition: 0.2s;
    ">ğŸ  ãƒ›ãƒ¼ãƒ ã«ã‚‚ã©ã‚‹</a>
</div>

<script>
    // å…¨81å•ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆå‰å›ã®ã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«æ•´ç†ï¼‰
    const masterData = {
        1: [
            { f: "1 Ã— 1", a: "ã„ã‚“ã„ã¡ãŒã„ã¡", w: ["ã„ã¡ã„ã¡ãŒã„ã¡", "ã„ã¡ã„ã¡ã®ã„ã¡"] },
            { f: "1 Ã— 2", a: "ã„ã‚“ã«ãŒã«", w: ["ã„ã¡ã«ãŒã«", "ã„ã‚“ã«ã®ã«ãª"] },
            { f: "1 Ã— 3", a: "ã„ã‚“ã•ã‚“ãŒã•ã‚“", w: ["ã„ã¡ã•ã‚“ãŒã•ã‚“", "ã„ã‚“ã•ã‚“ã•ã‚“"] },
            { f: "1 Ã— 4", a: "ã„ã‚“ã—ãŒã—", w: ["ã„ã¡ã—ãŒã—", "ã„ã‚“ã‚ˆã‚“ãŒã‚ˆã‚“"] },
            { f: "1 Ã— 5", a: "ã„ã‚“ã”ãŒã”", w: ["ã„ã¡ã”ãŒã”", "ã„ã‚“ã”ã®ã”"] },
            { f: "1 Ã— 6", a: "ã„ã‚“ã‚ããŒã‚ã", w: ["ã„ã¡ã‚ããŒã‚ã", "ã„ã‚“ã‚ãã‚ã"] },
            { f: "1 Ã— 7", a: "ã„ã‚“ã—ã¡ãŒã—ã¡", w: ["ã„ã¡ã—ã¡ãŒã—ã¡", "ã„ã‚“ãªãªãŒãªãª"] },
            { f: "1 Ã— 8", a: "ã„ã‚“ã¯ã¡ãŒã¯ã¡", w: ["ã„ã¡ã¯ã¡ãŒã¯ã¡", "ã„ã‚“ã±ã¡ãŒã±ã¡"] },
            { f: "1 Ã— 9", a: "ã„ã‚“ããŒã", w: ["ã„ã¡ããŒã", "ã„ã‚“ãã‚…ã†ãŒãã‚…ã†"] }
        ],
        2: [
            { f: "2 Ã— 1", a: "ã«ã„ã¡ãŒã«", w: ["ã«ã„ã¡ã«", "ã«ã„ã„ã¡ã«"] },
            { f: "2 Ã— 2", a: "ã«ã«ã‚“ãŒã—", w: ["ã«ã«ãŒã—", "ã«ã«ã‚“ã—"] },
            { f: "2 Ã— 3", a: "ã«ã•ã‚“ãŒã‚ã", w: ["ã«ã•ã‚“ã‚ã", "ã«ã•ã‚“ã®ãŒã‚ã"] },
            { f: "2 Ã— 4", a: "ã«ã—ãŒã¯ã¡", w: ["ã«ã‚ˆã‚“ãŒã¯ã¡", "ã«ã—ã¯ã¡"] },
            { f: "2 Ã— 5", a: "ã«ã”ã˜ã‚…ã†", w: ["ã«ã”ãŒã˜ã‚…ã†", "ã«ã”ã®ã˜ã‚…ã†"] },
            { f: "2 Ã— 6", a: "ã«ã‚ãã˜ã‚…ã†ã«", w: ["ã«ã‚ããŒã˜ã‚…ã†ã«", "ã«ã‚ãã˜ã‚…ã†ã«ã¡"] },
            { f: "2 Ã— 7", a: "ã«ã—ã¡ã˜ã‚…ã†ã—", w: ["ã«ãªãªã˜ã‚…ã†ã‚ˆã‚“", "ã«ã—ã¡ã˜ã‚…ã†ã‚ˆã‚“"] },
            { f: "2 Ã— 8", a: "ã«ã¯ã¡ã˜ã‚…ã†ã‚ã", w: ["ã«ã£ã±ã˜ã‚…ã†ã‚ã", "ã«ã£ã±ã¡ã˜ã‚…ã†ã‚ã"] },
            { f: "2 Ã— 9", a: "ã«ãã˜ã‚…ã†ã¯ã¡", w: ["ã«ãã‚…ã†ã˜ã‚…ã†ã¯ã¡", "ã«ãã˜ã‚…ã†ã¯"] }
        ],
        3: [
            { f: "3 Ã— 1", a: "ã•ã‚“ã„ã¡ãŒã•ã‚“", w: ["ã•ã‚“ã„ã¡ã•ã‚“", "ã•ã‚“ã„ã‚“ãŒã•ã‚“"] },
            { f: "3 Ã— 2", a: "ã•ã‚“ã«ãŒã‚ã", w: ["ã•ã‚“ã«ã‚“ãŒã‚ã", "ã•ã‚“ã«ã‚ã"] },
            { f: "3 Ã— 3", a: "ã•ã–ã‚“ãŒã", w: ["ã•ã‚“ã•ã‚“ãŒãã‚…ã†", "ã•ã–ã‚“ãŒãã‚…ã†"] },
            { f: "3 Ã— 4", a: "ã•ã‚“ã—ã˜ã‚…ã†ã«", w: ["ã•ã‚“ã‚ˆã‚“ã˜ã‚…ã†ã«", "ã•ã‚“ã—ãŒã˜ã‚…ã†ã«"] },
            { f: "3 Ã— 5", a: "ã•ã‚“ã”ã˜ã‚…ã†ã”", w: ["ã•ã‚“ã”ãŒã˜ã‚…ã†ã”", "ã•ã‚“ã”ã˜ã‚…ã†"] },
            { f: "3 Ã— 6", a: "ã•ã¶ã‚ãã˜ã‚…ã†ã¯ã¡", w: ["ã•ã‚“ã‚ãã˜ã‚…ã†ã¯ã¡", "ã•ã¶ã‚ãã˜ã‚…ã†ã¯"] },
            { f: "3 Ã— 7", a: "ã•ã‚“ã—ã¡ã«ã˜ã‚…ã†ã„ã¡", w: ["ã•ã‚“ãªãªã«ã˜ã‚…ã†ã„ã¡", "ã•ã‚“ã—ã¡ã«ã˜ã‚…ã†ã„ã£ã¡"] },
            { f: "3 Ã— 8", a: "ã•ã‚“ã±ã«ã˜ã‚…ã†ã—", w: ["ã•ã‚“ã¯ã¡ã«ã˜ã‚…ã†ã‚ˆã‚“", "ã•ã‚“ã±ã«ã˜ã‚…ã†ã‚ˆã‚“"] },
            { f: "3 Ã— 9", a: "ã•ã‚“ãã«ã˜ã‚…ã†ã—ã¡", w: ["ã•ã‚“ããŒã«ã˜ã‚…ã†ã—ã¡", "ã•ã‚“ãã‚…ã†ã«ã˜ã‚…ã†ãªãª"] }
        ],
        4: [
            { f: "4 Ã— 1", a: "ã—ã„ã¡ãŒã—", w: ["ã‚ˆã‚“ã„ã¡ãŒã‚ˆã‚“", "ã—ã„ã¡ã—"] },
            { f: "4 Ã— 2", a: "ã—ã«ãŒã¯ã¡", w: ["ã—ã«ã‚“ã¯ã¡", "ã‚ˆã‚“ã«ãŒã¯ã¡"] },
            { f: "4 Ã— 3", a: "ã—ã•ã‚“ã˜ã‚…ã†ã«", w: ["ã‚ˆã‚“ã•ã‚“ã˜ã‚…ã†ã«", "ã—ã•ã‚“ãŒã˜ã‚…ã†ã«"] },
            { f: "4 Ã— 4", a: "ã—ã—ã˜ã‚…ã†ã‚ã", w: ["ã‚ˆã‚“ã‚ˆã‚“ã˜ã‚…ã†ã‚ã", "ã—ã—ã˜ã‚…ã†ã‚ãã¡"] },
            { f: "4 Ã— 5", a: "ã—ã”ã«ã˜ã‚…ã†", w: ["ã—ã”ãŒã«ã˜ã‚…ã†", "ã‚ˆã‚“ã”ã«ã˜ã‚…ã†"] },
            { f: "4 Ã— 6", a: "ã—ã‚ãã«ã˜ã‚…ã†ã—", w: ["ã—ã‚ãã«ã˜ã‚…ã†ã‚ˆã‚“", "ã‚ˆã‚“ã‚ãã«ã˜ã‚…ã†ã—"] },
            { f: "4 Ã— 7", a: "ã—ã—ã¡ã«ã˜ã‚…ã†ã¯ã¡", w: ["ã‚ˆã‚“ãªãªã˜ã‚…ã†ã¯ã¡", "ã—ã—ã¡ã˜ã‚…ã†ã¯"] },
            { f: "4 Ã— 8", a: "ã—ã¯ã•ã‚“ã˜ã‚…ã†ã«", w: ["ã‚ˆã‚“ã¯ã•ã‚“ã˜ã‚…ã†ã«", "ã—ã¯ã¡ã•ã‚“ã˜ã‚…ã†ã«"] },
            { f: "4 Ã— 9", a: "ã—ãã•ã‚“ã˜ã‚…ã†ã‚ã", w: ["ã‚ˆã‚“ãã•ã‚“ã˜ã‚…ã†ã‚ã", "ã—ãã‚…ã†ã•ã‚“ã˜ã‚…ã†ã‚ã"] }
        ],
        5: [
            { f: "5 Ã— 1", a: "ã”ã„ã¡ãŒã”", w: ["ã”ã„ã¡ã”", "ã”ã„ã‚“ãŒã”"] },
            { f: "5 Ã— 2", a: "ã”ã«ã˜ã‚…ã†", w: ["ã”ã«ãŒã˜ã‚…ã†", "ã”ã«ã‚“ã˜ã‚…ã†"] },
            { f: "5 Ã— 3", a: "ã”ã•ã‚“ã˜ã‚…ã†ã”", w: ["ã”ã•ã‚“ãŒã˜ã‚…ã†ã”", "ã”ã•ã‚“ã˜ã‚…ã†"] },
            { f: "5 Ã— 4", a: "ã”ã—ã«ã˜ã‚…ã†", w: ["ã”ã‚ˆã‚“ã«ã˜ã‚…ã†", "ã”ã—ãŒã«ã˜ã‚…ã†"] },
            { f: "5 Ã— 5", a: "ã”ã”ã«ã˜ã‚…ã†ã”", w: ["ã”ã”ã«ã˜ã‚…ã†", "ã”ã£ã”ã«ã˜ã‚…ã†ã”"] },
            { f: "5 Ã— 6", a: "ã”ã‚ãã•ã‚“ã˜ã‚…ã†", w: ["ã”ã‚€ã•ã‚“ã˜ã‚…ã†", "ã”ãƒ¼ã‚ãã•ã‚“ã˜ã‚…ã†"] },
            { f: "5 Ã— 7", a: "ã”ã—ã¡ã•ã‚“ã˜ã‚…ã†ã”", w: ["ã”ãªãªã•ã‚“ã˜ã‚…ã†ã”", "ã”ã—ã¡ã•ã‚“ã˜ã‚…ã†"] },
            { f: "5 Ã— 8", a: "ã”ã¯ã—ã˜ã‚…ã†", w: ["ã”ã¯ã¡ã—ã˜ã‚…ã†", "ã”ã¯ã£ã—ã˜ã‚…ã†"] },
            { f: "5 Ã— 9", a: "ã”ã£ãã—ã˜ã‚…ã†ã”", w: ["ã”ãã‚…ã†ã—ã˜ã‚…ã†ã”", "ã”ãã—ã˜ã‚…ã†"] }
        ],
        6: [
            { f: "6 Ã— 1", a: "ã‚ãã„ã¡ãŒã‚ã", w: ["ã‚ãã„ã¡ã‚ã", "ã‚ãã„ã‚“ãŒã‚ã"] },
            { f: "6 Ã— 2", a: "ã‚ãã«ã˜ã‚…ã†ã«", w: ["ã‚ãã«ãŒã˜ã‚…ã†ã«", "ã‚ãã«ã‚“ã˜ã‚…ã†ã«"] },
            { f: "6 Ã— 3", a: "ã‚ãã•ã‚“ã˜ã‚…ã†ã¯ã¡", w: ["ã‚ãã•ã‚“ãŒã˜ã‚…ã†ã¯ã¡", "ã‚ãã•ã‚“ã˜ã‚…ã†ã¯"] },
            { f: "6 Ã— 4", a: "ã‚ãã—ã«ã˜ã‚…ã†ã—", w: ["ã‚ãã—ã«ã˜ã‚…ã†ã‚ˆã‚“", "ã‚ãã‚ˆã‚“ã«ã˜ã‚…ã†ã—"] },
            { f: "6 Ã— 5", a: "ã‚ãã”ã•ã‚“ã˜ã‚…ã†", w: ["ã‚ãã”ãŒã•ã‚“ã˜ã‚…ã†", "ã‚€ã”ã•ã‚“ã˜ã‚…ã†"] },
            { f: "6 Ã— 6", a: "ã‚ãã‚ãã•ã‚“ã˜ã‚…ã†ã‚ã", w: ["ã‚€ã‚€ã•ã‚“ã˜ã‚…ã†ã‚ã", "ã‚ãã‚ãã•ã‚“ã˜ã‚…ã†"] },
            { f: "6 Ã— 7", a: "ã‚ãã—ã¡ã—ã˜ã‚…ã†ã«", w: ["ã‚ããªãªã—ã˜ã‚…ã†ã«", "ã‚ãã—ã¡ã‚ˆã‚“ã˜ã‚…ã†ã«"] },
            { f: "6 Ã— 8", a: "ã‚ãã¯ã—ã˜ã‚…ã†ã¯ã¡", w: ["ã‚ãã¯ã¡ã—ã˜ã‚…ã†ã¯ã¡", "ã‚ãã±ã—ã˜ã‚…ã†ã¯ã¡"] },
            { f: "6 Ã— 9", a: "ã‚ã£ãã”ã˜ã‚…ã†ã—", w: ["ã‚ããã”ã˜ã‚…ã†ã—", "ã‚ããã‚…ã†ã”ã˜ã‚…ã†ã‚ˆã‚“"] }
        ],
        7: [
            { f: "7 Ã— 1", a: "ã—ã¡ã„ã¡ãŒã—ã¡", w: ["ãªãªãªãªãª", "ã—ã¡ã„ã¡ã—ã¡"] },
            { f: "7 Ã— 2", a: "ã—ã¡ã«ã˜ã‚…ã†ã—", w: ["ã—ã¡ã«ãŒã˜ã‚…ã†ã—", "ãªãªã«ã˜ã‚…ã†ã—"] },
            { f: "7 Ã— 3", a: "ã—ã¡ã•ã‚“ã«ã˜ã‚…ã†ã„ã¡", w: ["ãªãªã•ã‚“ã«ã˜ã‚…ã†ã„ã¡", "ã—ã¡ã•ã‚“ã˜ã‚…ã†ã„ã¡"] },
            { f: "7 Ã— 4", a: "ã—ã¡ã—ã«ã˜ã‚…ã†ã¯ã¡", w: ["ã—ã¡ã‚ˆã‚“ã«ã˜ã‚…ã†ã¯ã¡", "ãªãªã—ã«ã˜ã‚…ã†ã¯ã¡"] },
            { f: "7 Ã— 5", a: "ã—ã¡ã”ã•ã‚“ã˜ã‚…ã†ã”", w: ["ãªãªã”ã•ã‚“ã˜ã‚…ã†ã”", "ã—ã¡ã”ã•ã‚“ã˜ã‚…ã†"] },
            { f: "7 Ã— 6", a: "ã—ã¡ã‚ãã—ã˜ã‚…ã†ã«", w: ["ãªãªã‚ãã—ã˜ã‚…ã†ã«", "ã—ã¡ã‚ãã‚ˆã‚“ã˜ã‚…ã†ã«"] },
            { f: "7 Ã— 7", a: "ã—ã¡ã—ã¡ã—ã˜ã‚…ã†ã", w: ["ãªãªãªãªã—ã˜ã‚…ã†ã", "ã—ã¡ã—ã¡ã‚ˆã‚“ã˜ã‚…ã†ãã‚…ã†"] },
            { f: "7 Ã— 8", a: "ã—ã¡ã¯ã”ã˜ã‚…ã†ã‚ã", w: ["ã—ã¡ã¯ã¡ã”ã˜ã‚…ã†ã‚ã", "ãªãªã¯ã”ã˜ã‚…ã†ã‚ã"] },
            { f: "7 Ã— 9", a: "ã—ã¡ãã‚ãã˜ã‚…ã†ã•ã‚“", w: ["ãªãªãã‚ãã˜ã‚…ã†ã•ã‚“", "ã—ã¡ãã‚…ã†ã‚ãã˜ã‚…ã†ã•ã‚“"] }
        ],
        8: [
            { f: "8 Ã— 1", a: "ã¯ã¡ã„ã¡ãŒã¯ã¡", w: ["ã¯ã¡ã„ã¡ã¯ã¡", "ã¯ã£ã±ãŒã„ã¡"] },
            { f: "8 Ã— 2", a: "ã¯ã¡ã«ã˜ã‚…ã†ã‚ã", w: ["ã¯ã£ã±ã˜ã‚…ã†ã‚ã", "ã¯ã¡ã«ãŒã˜ã‚…ã†ã‚ã"] },
            { f: "8 Ã— 3", a: "ã¯ã¡ã•ã‚“ã«ã˜ã‚…ã†ã—", w: ["ã¯ã¡ã•ã‚“ã«ã˜ã‚…ã†ã‚ˆã‚“", "ã¯ã£ã•ã‚“ã«ã˜ã‚…ã†ã—"] },
            { f: "8 Ã— 4", a: "ã¯ã¡ã—ã•ã‚“ã˜ã‚…ã†ã«", w: ["ã¯ã£ã—ã•ã‚“ã˜ã‚…ã†ã«", "ã¯ã¡ã‚ˆã‚“ã•ã‚“ã˜ã‚…ã†ã«"] },
            { f: "8 Ã— 5", a: "ã¯ã¡ã”ã—ã˜ã‚…ã†", w: ["ã¯ã¡ã”ãŒã—ã˜ã‚…ã†", "ã¯ã£ã±ã”ã—ã˜ã‚…ã†"] },
            { f: "8 Ã— 6", a: "ã¯ã¡ã‚ãã—ã˜ã‚…ã†ã¯ã¡", w: ["ã¯ã¡ã‚ãã‚ˆã‚“ã˜ã‚…ã†ã¯ã¡", "ã¯ã£ã±ã‚ãã—ã˜ã‚…ã†ã¯ã¡"] },
            { f: "8 Ã— 7", a: "ã¯ã¡ã—ã¡ã”ã˜ã‚…ã†ã‚ã", w: ["ã¯ã£ã¡ã—ã¡ã”ã˜ã‚…ã†ã‚ã", "ã¯ã¡ã—ã¡ã”ã˜ã‚…ã†ãªãª"] },
            { f: "8 Ã— 8", a: "ã¯ã£ã±ã‚ãã˜ã‚…ã†ã—", w: ["ã¯ã¡ã¯ã¡ã‚ãã˜ã‚…ã†ã—", "ã¯ã£ã±ã‚ãã˜ã‚…ã†ã‚ˆã‚“"] },
            { f: "8 Ã— 9", a: "ã¯ã£ãã—ã¡ã˜ã‚…ã†ã«", w: ["ã¯ã¡ãã‚…ã†ã—ã¡ã˜ã‚…ã†ã«", "ã¯ã£ããªãªã˜ã‚…ã†ã«"] }
        ],
        9: [
            { f: "9 Ã— 1", a: "ãã„ã¡ãŒã", w: ["ãã‚…ã†ã„ã¡ãŒãã‚…ã†", "ãã„ã¡ã"] },
            { f: "9 Ã— 2", a: "ãã«ã˜ã‚…ã†ã¯ã¡", w: ["ãã‚…ã†ã«ã˜ã‚…ã†ã¯ã¡", "ãã«ã˜ã‚…ã†ã¯"] },
            { f: "9 Ã— 3", a: "ãã•ã‚“ã«ã˜ã‚…ã†ã—ã¡", w: ["ãã•ã‚“ã«ã˜ã‚…ã†ãªãª", "ãã‚…ã†ã•ã‚“ã«ã˜ã‚…ã†ã—ã¡"] },
            { f: "9 Ã— 4", a: "ãã—ã•ã‚“ã˜ã‚…ã†ã‚ã", w: ["ãã‚…ã†ã—ã•ã‚“ã˜ã‚…ã†ã‚ã", "ãã—ã•ã‚“ã˜ã‚…ã†"] },
            { f: "9 Ã— 5", a: "ãã”ã—ã˜ã‚…ã†ã”", w: ["ãã‚…ã†ã”ã—ã˜ã‚…ã†ã”", "ãã”ã—ã˜ã‚…ã†"] },
            { f: "9 Ã— 6", a: "ãã‚ãã”ã˜ã‚…ã†ã—", w: ["ãã‚…ã†ã‚ãã”ã˜ã‚…ã†ã—", "ãã‚ãã”ã˜ã‚…ã†ã‚ˆã‚“"] },
            { f: "9 Ã— 7", a: "ãã—ã¡ã‚ãã˜ã‚…ã†ã•ã‚“", w: ["ãªãªãã‚ãã˜ã‚…ã†ã•ã‚“", "ãã‚…ã†ã—ã¡ã‚ãã˜ã‚…ã†ã•ã‚“"] },
            { f: "9 Ã— 8", a: "ãã¯ã—ã¡ã˜ã‚…ã†ã«", w: ["ãã¯ã¡ã—ã¡ã˜ã‚…ã†ã«", "ãã‚…ã†ã¯ã—ã¡ã˜ã‚…ã†ã«"] },
            { f: "9 Ã— 9", a: "ããã¯ã¡ã˜ã‚…ã†ã„ã¡", w: ["ãã‚…ã†ãã‚…ã†ã¯ã¡ã˜ã‚…ã†ã„ã¡", "ããã¯ã¡ã˜ã‚…ã†"] }
        ]
    };

    let currentQuestions = [];
    let qIdx = 0;

    function startQuiz(step) {
        document.getElementById("menu").style.display = "none";
        document.getElementById("stats").style.display = "block";
        document.getElementById("question").style.display = "block";
        document.getElementById("options").style.display = "grid";
        document.getElementById("back-btn").style.display = "block";

        if (step === 0) {
            // å…¨æ®µã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«10å•
            const all = Object.values(masterData).flat();
            currentQuestions = all.sort(() => Math.random() - 0.5).slice(0, 10);
            document.getElementById("title").innerText = "ã™ã¹ã¦ã®æ®µ";
        } else {
            // æŒ‡å®šã—ãŸæ®µã®9å•
            currentQuestions = [...masterData[step]];
            document.getElementById("title").innerText = step + " ã®æ®µ";
        }
        qIdx = 0;
        loadNextQuestion();
    }

    function loadNextQuestion() {
        if (qIdx >= currentQuestions.length) {
            document.getElementById("question").innerText = "ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼";
            document.getElementById("options").innerHTML = "";
            document.getElementById("feedback").innerText = "å…¨å•ã‚¯ãƒªã‚¢ï¼";
            document.getElementById("next-btn").style.display = "none";
            document.getElementById("stats").innerText = "";
            return;
        }

        const data = currentQuestions[qIdx];
        document.getElementById("stats").innerText = `ç¬¬ ${qIdx + 1} å• / ${currentQuestions.length}`;
        document.getElementById("question").innerText = data.f;
        document.getElementById("feedback").innerText = "";
        document.getElementById("next-btn").style.display = "none";

        const opts = [data.a, ...data.w].sort(() => Math.random() - 0.5);
        const container = document.getElementById("options");
        container.innerHTML = "";

        opts.forEach(text => {
            const btn = document.createElement("button");
            btn.className = "option";
            btn.innerText = text;
            btn.onclick = () => check(btn, text, data.a);
            container.appendChild(btn);
        });
        qIdx++;
    }

    function check(btn, selected, correct) {
        const btns = document.querySelectorAll(".option");
        btns.forEach(b => b.disabled = true);

        if (selected === correct) {
            btn.classList.add("correct");
            document.getElementById("feedback").innerText = "æ­£è§£ï¼â­•ï¸";
            document.getElementById("feedback").style.color = "#2ecc71";
        } else {
            btn.classList.add("wrong");
            document.getElementById("feedback").innerText = `âŒ æ­£è§£ã¯ã€Œ${correct}ã€`;
            document.getElementById("feedback").style.color = "#e74c3c";
        }
        document.getElementById("next-btn").style.display = "block";
    }

    function resetToMenu() {
        location.reload();
    }
</script>


</body>
</html>